{"openapi":"3.0.2","info":{"title":"UCS@school APIs","description":"This application exposes network resources introduced via custom plugins.","version":"0.1.0"},"paths":{"/ucsschool/apis/provisioning/v1/{school_authority}/users/{id}":{"get":{"tags":["provisioning","users"],"summary":"Get","operationId":"get_ucsschool_apis_provisioning_v1__school_authority__users__id__get","parameters":[{"description":"Unique ID of LDAP object on school authority side.","required":true,"schema":{"title":"Object ID","minLength":1,"type":"string","description":"Unique ID of LDAP object on school authority side."},"name":"id","in":"path"},{"description":"Identifier of the school authority this object originates from.","required":true,"schema":{"title":"School authority ID","minLength":1,"type":"string","description":"Identifier of the school authority this object originates from."},"name":"school_authority","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"put":{"tags":["provisioning","users"],"summary":"Put","operationId":"put_ucsschool_apis_provisioning_v1__school_authority__users__id__put","parameters":[{"description":"Unique ID of LDAP object on school authority side.","required":true,"schema":{"title":"Object ID","minLength":1,"type":"string","description":"Unique ID of LDAP object on school authority side."},"name":"id","in":"path"},{"description":"Identifier of the school authority this object originates from.","required":true,"schema":{"title":"School authority ID","minLength":1,"type":"string","description":"Identifier of the school authority this object originates from."},"name":"school_authority","in":"path"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"delete":{"tags":["provisioning","users"],"summary":"Delete","operationId":"delete_ucsschool_apis_provisioning_v1__school_authority__users__id__delete","parameters":[{"description":"Unique ID of LDAP object on school authority side.","required":true,"schema":{"title":"Object ID","minLength":1,"type":"string","description":"Unique ID of LDAP object on school authority side."},"name":"id","in":"path"},{"description":"Identifier of the school authority this object originates from.","required":true,"schema":{"title":"School authority ID","minLength":1,"type":"string","description":"Identifier of the school authority this object originates from."},"name":"school_authority","in":"path"}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"head":{"tags":["provisioning","users"],"summary":"Get Head","operationId":"get_head_ucsschool_apis_provisioning_v1__school_authority__users__id__head","parameters":[{"description":"Unique ID of LDAP object on school authority side.","required":true,"schema":{"title":"Object ID","minLength":1,"type":"string","description":"Unique ID of LDAP object on school authority side."},"name":"id","in":"path"},{"description":"Identifier of the school authority this object originates from.","required":true,"schema":{"title":"School authority ID","minLength":1,"type":"string","description":"Identifier of the school authority this object originates from."},"name":"school_authority","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/ucsschool/apis/provisioning/v1/{school_authority}/users":{"post":{"tags":["provisioning","users"],"summary":"Post","operationId":"post_ucsschool_apis_provisioning_v1__school_authority__users_post","parameters":[{"description":"Identifier of the school authority this object originates from.","required":true,"schema":{"title":"School authority ID","minLength":1,"type":"string","description":"Identifier of the school authority this object originates from."},"name":"school_authority","in":"path"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/ucsschool/apis/provisioning/v1/{school_authority}/schools/{id}":{"get":{"tags":["provisioning","schools"],"summary":"Get","operationId":"get_ucsschool_apis_provisioning_v1__school_authority__schools__id__get","parameters":[{"description":"Unique ID of LDAP object on school authority side.","required":true,"schema":{"title":"Object ID","minLength":1,"type":"string","description":"Unique ID of LDAP object on school authority side."},"name":"id","in":"path"},{"description":"Identifier of the school authority this object originates from.","required":true,"schema":{"title":"School authority ID","minLength":1,"type":"string","description":"Identifier of the school authority this object originates from."},"name":"school_authority","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/School"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"head":{"tags":["provisioning","schools"],"summary":"Get Head","operationId":"get_head_ucsschool_apis_provisioning_v1__school_authority__schools__id__head","parameters":[{"description":"Unique ID of LDAP object on school authority side.","required":true,"schema":{"title":"Object ID","minLength":1,"type":"string","description":"Unique ID of LDAP object on school authority side."},"name":"id","in":"path"},{"description":"Identifier of the school authority this object originates from.","required":true,"schema":{"title":"School authority ID","minLength":1,"type":"string","description":"Identifier of the school authority this object originates from."},"name":"school_authority","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/ucsschool/apis/provisioning/v1/{school_authority}/schools":{"post":{"tags":["provisioning","schools"],"summary":"Post","operationId":"post_ucsschool_apis_provisioning_v1__school_authority__schools_post","parameters":[{"description":"Identifier of the school authority this object originates from.","required":true,"schema":{"title":"School authority ID","minLength":1,"type":"string","description":"Identifier of the school authority this object originates from."},"name":"school_authority","in":"path"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/School"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/School"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/ucsschool/apis/provisioning/v1/{school_authority}/classes/{id}":{"get":{"tags":["provisioning","school_classes"],"summary":"Get","operationId":"get_ucsschool_apis_provisioning_v1__school_authority__classes__id__get","parameters":[{"description":"Unique ID of LDAP object on school authority side.","required":true,"schema":{"title":"Object ID","pattern":"^[^*]+$","type":"string","description":"Unique ID of LDAP object on school authority side."},"name":"id","in":"path"},{"description":"Identifier of the school authority this object originates from.","required":true,"schema":{"title":"School authority ID","minLength":1,"type":"string","description":"Identifier of the school authority this object originates from."},"name":"school_authority","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SchoolClass"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"put":{"tags":["provisioning","school_classes"],"summary":"Put","operationId":"put_ucsschool_apis_provisioning_v1__school_authority__classes__id__put","parameters":[{"description":"Unique ID of LDAP object on school authority side.","required":true,"schema":{"title":"Object ID","pattern":"^[^*]+$","type":"string","description":"Unique ID of LDAP object on school authority side."},"name":"id","in":"path"},{"description":"Identifier of the school authority this object originates from.","required":true,"schema":{"title":"School authority ID","minLength":1,"type":"string","description":"Identifier of the school authority this object originates from."},"name":"school_authority","in":"path"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SchoolClass"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SchoolClass"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"delete":{"tags":["provisioning","school_classes"],"summary":"Delete","operationId":"delete_ucsschool_apis_provisioning_v1__school_authority__classes__id__delete","parameters":[{"description":"Unique ID of LDAP object on school authority side.","required":true,"schema":{"title":"Object ID","pattern":"^[^*]+$","type":"string","description":"Unique ID of LDAP object on school authority side."},"name":"id","in":"path"},{"description":"Identifier of the school authority this object originates from.","required":true,"schema":{"title":"School authority ID","minLength":1,"type":"string","description":"Identifier of the school authority this object originates from."},"name":"school_authority","in":"path"}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"head":{"tags":["provisioning","school_classes"],"summary":"Get Head","operationId":"get_head_ucsschool_apis_provisioning_v1__school_authority__classes__id__head","parameters":[{"description":"Unique ID of LDAP object on school authority side.","required":true,"schema":{"title":"Object ID","pattern":"^[^*]+$","type":"string","description":"Unique ID of LDAP object on school authority side."},"name":"id","in":"path"},{"description":"Identifier of the school authority this object originates from.","required":true,"schema":{"title":"School authority ID","minLength":1,"type":"string","description":"Identifier of the school authority this object originates from."},"name":"school_authority","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/ucsschool/apis/provisioning/v1/{school_authority}/classes":{"post":{"tags":["provisioning","school_classes"],"summary":"Post","operationId":"post_ucsschool_apis_provisioning_v1__school_authority__classes_post","parameters":[{"description":"Identifier of the school authority this object originates from.","required":true,"schema":{"title":"School authority ID","minLength":1,"type":"string","description":"Identifier of the school authority this object originates from."},"name":"school_authority","in":"path"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SchoolClass"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SchoolClass"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/ucsschool/apis/auth/token":{"post":{"tags":["auth"],"summary":"Login For Access Token","description":"This route enables LDAP bind authentication against the apps host UCS system.\n:param form_data: The login credentials (username, password)\n:return: If login successful, the JWT data.","operationId":"login_for_access_token_ucsschool_apis_auth_token_post","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_login_for_access_token_ucsschool_apis_auth_token_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"Body_login_for_access_token_ucsschool_apis_auth_token_post":{"title":"Body_login_for_access_token_ucsschool_apis_auth_token_post","required":["username","password"],"type":"object","properties":{"grant_type":{"title":"Grant Type","pattern":"password","type":"string"},"username":{"title":"Username","type":"string"},"password":{"title":"Password","type":"string"},"scope":{"title":"Scope","type":"string","default":""},"client_id":{"title":"Client Id","type":"string"},"client_secret":{"title":"Client Secret","type":"string"}}},"HTTPValidationError":{"title":"HTTPValidationError","type":"object","properties":{"detail":{"title":"Detail","type":"array","items":{"$ref":"#/components/schemas/ValidationError"}}}},"School":{"title":"School","required":["id","name","display_name"],"type":"object","properties":{"id":{"title":"Id","minLength":1,"type":"string"},"name":{"title":"Name","minLength":1,"type":"string"},"display_name":{"title":"Display Name","minLength":1,"type":"string"}},"example":{"id":"6762f079-bb7d-4a92-9bce-1c3b2d2efad3","name":"DEMOSCHOOL","display_name":"Demo school"}},"SchoolClass":{"title":"SchoolClass","required":["id","name","description","school","members"],"type":"object","properties":{"id":{"title":"Id","minLength":1,"type":"string"},"name":{"title":"Name","minLength":1,"type":"string"},"description":{"title":"Description","type":"string"},"school":{"title":"School","minLength":1,"type":"string"},"members":{"title":"Members","uniqueItems":true,"type":"array","items":{"type":"string","minLength":1}}},"example":{"id":"503f1278-9cda-49f6-a749-3af022a7d32b","name":"1a","description":"Class 1a of Demoschool","school":"Demoschool","members":["<user1.id>","<user2.id>"]}},"SchoolContext":{"title":"SchoolContext","type":"object","properties":{"classes":{"title":"Classes","uniqueItems":true,"type":"array","items":{"type":"string","minLength":1},"default":[]},"roles":{"title":"Roles","uniqueItems":true,"type":"array","items":{"type":"string","minLength":1},"default":[]}}},"Token":{"title":"Token","required":["access_token","token_type"],"type":"object","properties":{"access_token":{"title":"Access Token","type":"string"},"token_type":{"title":"Token Type","type":"string"}},"description":"Container class for JWT"},"User":{"title":"User","required":["id","first_name","last_name","user_name","context"],"type":"object","properties":{"id":{"title":"Id","minLength":1,"type":"string"},"first_name":{"title":"First Name","minLength":1,"type":"string"},"last_name":{"title":"Last Name","minLength":1,"type":"string"},"user_name":{"title":"User Name","minLength":1,"type":"string"},"context":{"title":"Context","type":"object","additionalProperties":{"$ref":"#/components/schemas/SchoolContext"}}},"example":{"id":"d8aa843b-9628-42b8-9637-d198c745efa5","user_name":"m.mustermann","first_name":"Max","last_name":"Mustermann","context":{"School1":{"classes":["1a"],"roles":["teacher","staff"]}}}},"ValidationError":{"title":"ValidationError","required":["loc","msg","type"],"type":"object","properties":{"loc":{"title":"Location","type":"array","items":{"type":"string"}},"msg":{"title":"Message","type":"string"},"type":{"title":"Error Type","type":"string"}}}},"securitySchemes":{"OAuth2PasswordBearer":{"type":"oauth2","flows":{"password":{"scopes":{},"tokenUrl":"/ucsschool/apis/auth/token"}}}}}}
